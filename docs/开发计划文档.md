# åŸºäºå¤§æ•°æ®åˆ†æçš„è¯ç‰©ç­›é€‰ç³»ç»Ÿ - è¯¦ç»†å¼€å‘è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç›®æ ‡
æ„å»ºä¸€ä¸ªé›†æˆå¤šç§æ·±åº¦å­¦ä¹ ç®—æ³•çš„è¯ç‰©è™šæ‹Ÿç­›é€‰å¹³å°ï¼Œå®ç°ä»åˆ†å­æ•°æ®å¤„ç†ã€ç‰¹å¾æå–ã€æ¨¡å‹è®­ç»ƒåˆ°é¢„æµ‹ç­›é€‰çš„å®Œæ•´æµç¨‹ã€‚

### æŠ€æœ¯æ ˆ
- **ç¼–ç¨‹è¯­è¨€**: Python 3.9+
- **æ·±åº¦å­¦ä¹ **: PyTorch 2.0+
- **åŒ–å­¦ä¿¡æ¯å­¦**: RDKit, DeepChem
- **æ•°æ®å¤„ç†**: Pandas, NumPy, Scikit-learn
- **å¯è§†åŒ–**: Matplotlib, Seaborn, Plotly
- **Webæ¡†æ¶**: Streamlit

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
1. æ•°æ®ç®¡ç†æ¨¡å— - åŠ è½½å’Œæ¸…æ´—MoleculeNetç­‰æ•°æ®é›†
2. ç‰¹å¾å·¥ç¨‹æ¨¡å— - åˆ†å­æŒ‡çº¹ã€æè¿°ç¬¦æå–
3. æ¨¡å‹è®­ç»ƒæ¨¡å— - MLPã€CNNã€Multi-task DNN
4. é¢„æµ‹ç­›é€‰æ¨¡å— - å•åˆ†å­é¢„æµ‹ã€æ‰¹é‡ç­›é€‰
5. è¯„ä¼°å¯è§†åŒ–æ¨¡å— - æ€§èƒ½è¯„ä¼°ã€ç»“æœå¯è§†åŒ–
6. Webäº¤äº’æ¨¡å— - Streamlitç”¨æˆ·ç•Œé¢

---

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„è¯¦è§£

```
drug_screening_system/
â”œâ”€â”€ data/                          # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ raw/                      # åŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ processed/                # å¤„ç†åçš„æ•°æ®
â”‚   â””â”€â”€ data_loader.py           # æ•°æ®åŠ è½½å™¨ âœ“
â”‚
â”œâ”€â”€ features/                      # ç‰¹å¾å·¥ç¨‹
â”‚   â””â”€â”€ molecular_features.py    # åˆ†å­ç‰¹å¾æå– âœ“
â”‚
â”œâ”€â”€ models/                        # æ¨¡å‹å®šä¹‰
â”‚   â””â”€â”€ drug_models.py           # æ·±åº¦å­¦ä¹ æ¨¡å‹ âœ“
â”‚
â”œâ”€â”€ training/                      # è®­ç»ƒæ¨¡å—
â”‚   â””â”€â”€ trainer.py               # è®­ç»ƒå™¨ âœ“
â”‚
â”œâ”€â”€ evaluation/                    # è¯„ä¼°æ¨¡å—
â”‚   â”œâ”€â”€ metrics.py               # è¯„ä¼°æŒ‡æ ‡ âœ“
â”‚   â””â”€â”€ figures/                 # å¯è§†åŒ–å›¾è¡¨
â”‚
â”œâ”€â”€ inference/                     # æ¨ç†é¢„æµ‹
â”‚   â””â”€â”€ predictor.py             # é¢„æµ‹å™¨ âœ“
â”‚
â”œâ”€â”€ web/                          # Webç•Œé¢
â”‚   â””â”€â”€ app.py                   # Streamlitåº”ç”¨ âœ“
â”‚
â”œâ”€â”€ saved_models/                 # ä¿å­˜çš„æ¨¡å‹
â”œâ”€â”€ notebooks/                    # Jupyter notebooks
â”œâ”€â”€ configs/                      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt              # ä¾èµ–æ¸…å• âœ“
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”§ æ¨¡å—è¯¦ç»†å®ç°

### 1. æ•°æ®ç®¡ç†æ¨¡å— (data/data_loader.py)

#### åŠŸèƒ½è¯´æ˜
- ä»MoleculeNetåŠ è½½æ ‡å‡†æ•°æ®é›†ï¼ˆBBBPã€Tox21ã€ESOLã€BACEç­‰ï¼‰
- æ”¯æŒè‡ªå®šä¹‰CSVæ•°æ®é›†åŠ è½½
- æ•°æ®æ¸…æ´—ï¼šå»é‡ã€éªŒè¯SMILESã€æ ‡å‡†åŒ–

#### æ ¸å¿ƒç±»å’Œæ–¹æ³•
```python
class DrugDataLoader:
    - load_moleculenet_dataset()   # åŠ è½½MoleculeNetæ•°æ®é›†
    - load_csv_dataset()           # åŠ è½½CSVæ–‡ä»¶
    - clean_dataset()              # æ•°æ®æ¸…æ´—
    - get_sample_molecules()       # è·å–ç¤ºä¾‹åˆ†å­
```

#### ä½¿ç”¨ç¤ºä¾‹
```python
loader = DrugDataLoader(data_dir='./data/raw')

# åŠ è½½BBBPæ•°æ®é›†ï¼ˆè¡€è„‘å±éšœç©¿é€æ€§é¢„æµ‹ï¼‰
train, valid, test, tasks = loader.load_moleculenet_dataset(
    dataset_name='BBBP',
    featurizer='ECFP',
    split='scaffold'
)
```

#### å®ç°è¦ç‚¹
1. **DeepChemé›†æˆ**: ä½¿ç”¨`dc.molnet.load_xxx()`è‡ªåŠ¨ä¸‹è½½æ•°æ®
2. **SMILESéªŒè¯**: ä½¿ç”¨`Chem.MolFromSmiles()`éªŒè¯åˆ†å­æœ‰æ•ˆæ€§
3. **è§„èŒƒåŒ–**: è½¬æ¢ä¸ºcanonical SMILESé¿å…é‡å¤

---

### 2. ç‰¹å¾å·¥ç¨‹æ¨¡å— (features/molecular_features.py)

#### åŠŸèƒ½è¯´æ˜
- MorganæŒ‡çº¹ï¼ˆECFPï¼‰ç”Ÿæˆ - æœ€å¸¸ç”¨çš„åˆ†å­æŒ‡çº¹
- MACCS keysæŒ‡çº¹ - 166ä½å›ºå®šé•¿åº¦
- åˆ†å­æè¿°ç¬¦è®¡ç®— - ç‰©ç†åŒ–å­¦æ€§è´¨
- ç‰¹å¾æ ‡å‡†åŒ–

#### æ ¸å¿ƒç±»å’Œæ–¹æ³•
```python
class MolecularFeaturizer:
    - get_morgan_fingerprint()      # MorganæŒ‡çº¹ï¼ˆ2048ä½ï¼‰
    - get_maccs_keys()              # MACCSæŒ‡çº¹ï¼ˆ167ä½ï¼‰
    - get_molecular_descriptors()  # åˆ†å­æè¿°ç¬¦ï¼ˆ12ç»´ï¼‰
    - batch_featurize()            # æ‰¹é‡ç‰¹å¾åŒ–
    - smiles_to_one_hot()          # One-hotç¼–ç ï¼ˆç”¨äºCNNï¼‰

class FeatureScaler:
    - fit()                        # è®¡ç®—å‡å€¼å’Œæ ‡å‡†å·®
    - transform()                  # æ ‡å‡†åŒ–
    - fit_transform()              # æ‹Ÿåˆå¹¶è½¬æ¢
```

#### ç‰¹å¾ç±»å‹å¯¹æ¯”

| ç‰¹å¾ç±»å‹ | ç»´åº¦ | ä¼˜ç‚¹ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| MorganæŒ‡çº¹ | 2048 | æ•æ‰å±€éƒ¨ç»“æ„ï¼Œæ€§èƒ½å¥½ | MLPã€ç›¸ä¼¼æ€§æœç´¢ |
| MACCS keys | 167 | å›ºå®šé•¿åº¦ï¼Œå¯è§£é‡Šæ€§å¼º | å¿«é€Ÿç­›é€‰ |
| åˆ†å­æè¿°ç¬¦ | 12+ | ç‰©ç†æ„ä¹‰æ˜ç¡® | QSARå»ºæ¨¡ |
| One-hotç¼–ç  | å˜é•¿ | ä¿ç•™åºåˆ—ä¿¡æ¯ | CNN/RNN |

#### ä½¿ç”¨ç¤ºä¾‹
```python
featurizer = MolecularFeaturizer(fingerprint_size=2048)

# å•ä¸ªåˆ†å­
smiles = 'CC(=O)OC1=CC=CC=C1C(=O)O'  # é˜¿å¸åŒ¹æ—
fp = featurizer.get_morgan_fingerprint(smiles)  # (2048,)
desc = featurizer.get_molecular_descriptors(smiles)  # dict

# æ‰¹é‡ç‰¹å¾åŒ–
smiles_list = ['CC(=O)...', 'CN1C=NC2...', ...]
features = featurizer.batch_featurize(smiles_list, method='morgan')  # (n, 2048)
```

#### å…³é”®åˆ†å­æè¿°ç¬¦è¯´æ˜
- **MolecularWeight**: åˆ†å­é‡ï¼ˆDaï¼‰
- **LogP**: è„‚æ°´åˆ†é…ç³»æ•°ï¼ˆè¡¡é‡äº²è„‚æ€§ï¼‰
- **TPSA**: ææ€§è¡¨é¢ç§¯ï¼ˆå½±å“å¸æ”¶å’Œç©¿é€ï¼‰
- **NumHDonors/NumHAcceptors**: æ°¢é”®ä¾›ä½“/å—ä½“æ•°
- **NumRotatableBonds**: å¯æ—‹è½¬é”®æ•°ï¼ˆæŸ”æ€§æŒ‡æ ‡ï¼‰

---

### 3. æ·±åº¦å­¦ä¹ æ¨¡å‹æ¨¡å— (models/drug_models.py)

#### æ¨¡å‹æ¶æ„è¯¦è§£

##### 3.1 å¤šå±‚æ„ŸçŸ¥æœº (DrugPredictorMLP)
**é€‚ç”¨åœºæ™¯**: åŸºäºåˆ†å­æŒ‡çº¹çš„é¢„æµ‹ä»»åŠ¡

**ç½‘ç»œç»“æ„**:
```
Input(2048) â†’ Linear(512) â†’ BatchNorm â†’ ReLU â†’ Dropout(0.2)
            â†’ Linear(256) â†’ BatchNorm â†’ ReLU â†’ Dropout(0.2)
            â†’ Linear(128) â†’ BatchNorm â†’ ReLU â†’ Dropout(0.2)
            â†’ Linear(1)   â†’ [Sigmoid/Softmax/None]
```

**å‚æ•°é…ç½®**:
- è¾“å…¥ç»´åº¦: 2048ï¼ˆMorganæŒ‡çº¹ï¼‰
- éšè—å±‚: [512, 256, 128]ï¼ˆå¯è°ƒï¼‰
- Dropout: 0.2ï¼ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼‰
- æ¿€æ´»å‡½æ•°: ReLU
- è¾“å‡ºæ¿€æ´»: æ ¹æ®ä»»åŠ¡é€‰æ‹©ï¼ˆå›å½’/åˆ†ç±»ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```python
model = DrugPredictorMLP(
    input_dim=2048,
    hidden_dims=[512, 256, 128],
    output_dim=1,
    dropout=0.2,
    task_type='regression'  # 'binary', 'multiclass'
)
```

##### 3.2 1D-CNNæ¨¡å‹ (SMILESCNN)
**é€‚ç”¨åœºæ™¯**: ç›´æ¥å¤„ç†SMILESå­—ç¬¦åºåˆ—

**ç½‘ç»œç»“æ„**:
```
Input(seq_len) â†’ Embedding(vocab_size, 128)
               â†’ Conv1d(kernel=3,5,7) â†’ ReLU â†’ MaxPool
               â†’ Concat â†’ Linear(256) â†’ ReLU â†’ Dropout
               â†’ Linear(output_dim)
```

**ç‰¹ç‚¹**:
- å¤šå°ºåº¦å·ç§¯æ ¸ï¼ˆ3ã€5ã€7ï¼‰æ•æ‰ä¸åŒé•¿åº¦çš„åŒ–å­¦æ¨¡å¼
- å­—ç¬¦åµŒå…¥å±‚å­¦ä¹ SMILESå­—ç¬¦è¡¨ç¤º
- é€‚åˆå¤„ç†å˜é•¿åºåˆ—

**ä½¿ç”¨ç¤ºä¾‹**:
```python
model = SMILESCNN(
    vocab_size=35,          # SMILESå­—ç¬¦é›†å¤§å°
    embedding_dim=128,
    num_filters=128,
    kernel_sizes=[3, 5, 7],
    task_type='binary'
)
```

##### 3.3 å¤šä»»åŠ¡æ¨¡å‹ (MultiTaskDNN)
**é€‚ç”¨åœºæ™¯**: åŒæ—¶é¢„æµ‹å¤šä¸ªæ€§è´¨ï¼ˆæº¶è§£åº¦ã€æ¯’æ€§ã€æ´»æ€§ç­‰ï¼‰

**æ¶æ„ä¼˜åŠ¿**:
- å…±äº«ç‰¹å¾æå–å±‚ï¼ˆé™ä½è¿‡æ‹Ÿåˆï¼‰
- ä»»åŠ¡ç‰¹å®šçš„è¾“å‡ºå¤´
- è”åˆè®­ç»ƒæå‡æ³›åŒ–èƒ½åŠ›

**é…ç½®ç¤ºä¾‹**:
```python
task_configs = [
    {'name': 'solubility', 'output_dim': 1, 'task_type': 'regression'},
    {'name': 'toxicity', 'output_dim': 1, 'task_type': 'binary'},
    {'name': 'activity', 'output_dim': 3, 'task_type': 'multiclass'}
]

model = MultiTaskDNN(
    input_dim=2048,
    shared_hidden_dims=[512, 256],
    task_configs=task_configs
)
```

##### 3.4 ADMETé¢„æµ‹æ¨¡å‹ (ADMETPredictor)
**åŠŸèƒ½**: é¢„æµ‹è¯ä»£åŠ¨åŠ›å­¦å’Œæ¯’ç†å­¦æ€§è´¨

**é¢„æµ‹ä»»åŠ¡**:
- Solubilityï¼ˆæº¶è§£åº¦ï¼‰- å›å½’
- BBB Penetrationï¼ˆè¡€è„‘å±éšœï¼‰- äºŒåˆ†ç±»
- hERG Toxicityï¼ˆå¿ƒè„æ¯’æ€§ï¼‰- äºŒåˆ†ç±»
- Hepatotoxicityï¼ˆè‚æ¯’æ€§ï¼‰- äºŒåˆ†ç±»

---

### 4. æ¨¡å‹è®­ç»ƒæ¨¡å— (training/trainer.py)

#### æ ¸å¿ƒåŠŸèƒ½
- è®­ç»ƒå¾ªç¯ç®¡ç†
- æ—©åœæœºåˆ¶ï¼ˆEarly Stoppingï¼‰
- æ¨¡å‹æ£€æŸ¥ç‚¹ä¿å­˜
- è®­ç»ƒå†å²è®°å½•

#### è®­ç»ƒæµç¨‹

```python
# 1. å‡†å¤‡æ•°æ®
train_loader, val_loader = create_data_loaders(
    X_train, y_train, X_val, y_val, batch_size=32
)

# 2. åˆ›å»ºæ¨¡å‹
model = DrugPredictorMLP(input_dim=2048)

# 3. åˆ›å»ºè®­ç»ƒå™¨
trainer = DrugModelTrainer(
    model=model,
    device='cuda',
    learning_rate=0.001,
    task_type='regression'
)

# 4. è®­ç»ƒ
trainer.fit(
    train_loader=train_loader,
    val_loader=val_loader,
    epochs=100,
    early_stopping_patience=10,
    save_best_model=True,
    model_save_path='./saved_models/best_model.pth'
)
```

#### æ—©åœæœºåˆ¶è¯¦è§£
```python
class EarlyStopping:
    - patience: å®¹å¿çš„epochæ•°ï¼ˆé»˜è®¤10ï¼‰
    - min_delta: æœ€å°æ”¹å–„å¹…åº¦
    - mode: 'min'ï¼ˆlossï¼‰æˆ– 'max'ï¼ˆaccuracyï¼‰
```

**å·¥ä½œåŸç†**: å¦‚æœéªŒè¯æŒ‡æ ‡è¿ç»­`patience`ä¸ªepochæ²¡æœ‰æ”¹å–„è¶…è¿‡`min_delta`ï¼Œåˆ™åœæ­¢è®­ç»ƒã€‚

#### æŸå¤±å‡½æ•°é€‰æ‹©
- **å›å½’ä»»åŠ¡**: MSELoss (å‡æ–¹è¯¯å·®)
- **äºŒåˆ†ç±»**: BCELoss (äºŒå…ƒäº¤å‰ç†µ)
- **å¤šåˆ†ç±»**: CrossEntropyLoss (äº¤å‰ç†µ)

---

### 5. è¯„ä¼°å¯è§†åŒ–æ¨¡å— (evaluation/metrics.py)

#### è¯„ä¼°æŒ‡æ ‡

##### å›å½’ä»»åŠ¡
```python
evaluator = ModelEvaluator()
metrics = evaluator.evaluate_regression(y_true, y_pred)
```
- **RMSE**: å‡æ–¹æ ¹è¯¯å·®ï¼ˆè¶Šå°è¶Šå¥½ï¼‰
- **MAE**: å¹³å‡ç»å¯¹è¯¯å·®
- **RÂ²**: å†³å®šç³»æ•°ï¼ˆ0-1ï¼Œè¶Šæ¥è¿‘1è¶Šå¥½ï¼‰
- **Pearson r**: çš®å°”é€Šç›¸å…³ç³»æ•°

##### åˆ†ç±»ä»»åŠ¡
```python
metrics = evaluator.evaluate_classification(y_true, y_pred, y_prob)
```
- **Accuracy**: å‡†ç¡®ç‡
- **Precision**: ç²¾ç¡®ç‡
- **Recall**: å¬å›ç‡
- **F1**: F1åˆ†æ•°
- **AUC-ROC**: ROCæ›²çº¿ä¸‹é¢ç§¯

#### å¯è§†åŒ–åŠŸèƒ½

```python
visualizer = ResultVisualizer(save_dir='./evaluation/figures')

# 1. è®­ç»ƒå†å²æ›²çº¿
visualizer.plot_training_history(trainer.history)

# 2. å›å½’é¢„æµ‹æ•£ç‚¹å›¾
visualizer.plot_regression_results(y_true, y_pred)

# 3. æ··æ·†çŸ©é˜µ
visualizer.plot_confusion_matrix(y_true, y_pred, labels=['Inactive', 'Active'])

# 4. ROCæ›²çº¿
visualizer.plot_roc_curve(y_true, y_prob)
```

---

### 6. é¢„æµ‹ç­›é€‰æ¨¡å— (inference/predictor.py)

#### å•åˆ†å­é¢„æµ‹
```python
predictor = DrugPredictor(model, featurizer)
score = predictor.predict_single('CC(=O)OC1=CC=CC=C1C(=O)O')
result = predictor.predict_with_properties(smiles)  # åŒ…å«æ€§è´¨
```

#### æ‰¹é‡ç­›é€‰
```python
screener = DrugScreener(predictor)

# ç­›é€‰åŒ–åˆç‰©åº“
results = screener.screen_library(
    smiles_list=smiles_list,
    top_k=100,
    ascending=False  # åˆ†æ•°è¶Šé«˜è¶Šå¥½
)

# Lipinskiäº”è§„åˆ™è¿‡æ»¤
filtered = screener.filter_by_lipinski(results)

# ç”ŸæˆæŠ¥å‘Š
screener.generate_report(filtered, save_path='report.csv')
```

#### Lipinskiäº”è§„åˆ™
è¯ç‰©ç›¸ä¼¼æ€§ç­›é€‰æ ‡å‡†ï¼š
- åˆ†å­é‡ â‰¤ 500 Da
- LogP â‰¤ 5
- æ°¢é”®ä¾›ä½“ â‰¤ 5
- æ°¢é”®å—ä½“ â‰¤ 10

---

### 7. Webç•Œé¢æ¨¡å— (web/app.py)

#### åŠŸèƒ½é¡µé¢
1. **å•åˆ†å­é¢„æµ‹**: è¾“å…¥SMILESï¼Œæ˜¾ç¤ºé¢„æµ‹ç»“æœå’Œæ€§è´¨
2. **æ‰¹é‡ç­›é€‰**: ä¸Šä¼ CSVï¼Œç­›é€‰Top-Kå€™é€‰
3. **æ•°æ®é›†æ¢ç´¢**: æŸ¥çœ‹MoleculeNetæ•°æ®é›†ä¿¡æ¯
4. **ç³»ç»Ÿè¯´æ˜**: ä½¿ç”¨æŒ‡å—å’ŒæŠ€æœ¯æ–‡æ¡£

#### å¯åŠ¨å‘½ä»¤
```bash
streamlit run web/app.py
```

#### ä¸»è¦ç‰¹æ€§
- åˆ†å­ç»“æ„å¯è§†åŒ–ï¼ˆRDKitç»˜åˆ¶ï¼‰
- å®æ—¶é¢„æµ‹åé¦ˆ
- CSVæ–‡ä»¶ä¸Šä¼ ä¸‹è½½
- Lipinskiè§„åˆ™è‡ªåŠ¨æ£€æŸ¥
- å“åº”å¼å¸ƒå±€

---

## ğŸ“Š æ¨èæ•°æ®é›†

### MoleculeNetæ•°æ®é›†è¯¦æƒ…

| æ•°æ®é›† | æ ·æœ¬æ•° | ä»»åŠ¡ç±»å‹ | ç”¨é€” | æ¨èæŒ‡æ•° |
|-------|--------|---------|------|---------|
| **BBBP** | 2,039 | äºŒåˆ†ç±» | è¡€è„‘å±éšœç©¿é€ | â­â­â­â­â­ |
| **Tox21** | 7,831 | å¤šä»»åŠ¡åˆ†ç±» | æ¯’æ€§é¢„æµ‹ï¼ˆ12ç§ï¼‰ | â­â­â­â­â­ |
| **ESOL** | 1,128 | å›å½’ | æ°´æº¶è§£åº¦ | â­â­â­â­ |
| **BACE** | 1,513 | åˆ†ç±»/å›å½’ | Î²-åˆ†æ³Œé…¶æŠ‘åˆ¶ | â­â­â­â­ |
| **SIDER** | 1,427 | å¤šæ ‡ç­¾åˆ†ç±» | å‰¯ä½œç”¨é¢„æµ‹ | â­â­â­ |

**è¯¾ç¨‹è®¾è®¡æ¨è**: ä»BBBPæˆ–ESOLå¼€å§‹ï¼ˆæ•°æ®é‡é€‚ä¸­ï¼Œä»»åŠ¡æ˜ç¡®ï¼‰

---

## ğŸ¯ å¼€å‘è·¯çº¿å›¾

### é˜¶æ®µä¸€: ç¯å¢ƒæ­å»ºï¼ˆ1å¤©ï¼‰
- [ ] å®‰è£…Anaconda/Miniconda
- [ ] åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- [ ] å®‰è£…RDKitã€PyTorchã€DeepChemç­‰ä¾èµ–
- [ ] éªŒè¯ç¯å¢ƒï¼šè¿è¡Œæµ‹è¯•è„šæœ¬

### é˜¶æ®µäºŒ: æ•°æ®å‡†å¤‡ï¼ˆ2-3å¤©ï¼‰
- [ ] ä½¿ç”¨DeepChemåŠ è½½BBBPæ•°æ®é›†
- [ ] æ¢ç´¢æ•°æ®åˆ†å¸ƒå’Œç»Ÿè®¡ç‰¹å¾
- [ ] å®ç°æ•°æ®æ¸…æ´—å’ŒéªŒè¯
- [ ] å®Œæˆç‰¹å¾æå–ï¼ˆMorganæŒ‡çº¹ï¼‰

### é˜¶æ®µä¸‰: æ¨¡å‹å¼€å‘ï¼ˆ3-4å¤©ï¼‰
- [ ] å®ç°MLPæ¨¡å‹ï¼ˆBBBPäºŒåˆ†ç±»ï¼‰
- [ ] å®ç°è®­ç»ƒå¾ªç¯å’Œæ—©åœ
- [ ] åœ¨BBBPä¸Šè®­ç»ƒå¹¶è¯„ä¼°
- [ ] å¯é€‰ï¼šå®ç°CNNæˆ–å¤šä»»åŠ¡æ¨¡å‹

### é˜¶æ®µå››: è¯„ä¼°ä¼˜åŒ–ï¼ˆ2å¤©ï¼‰
- [ ] è®¡ç®—è¯„ä¼°æŒ‡æ ‡ï¼ˆAUCã€Accuracyç­‰ï¼‰
- [ ] ç»˜åˆ¶å¯è§†åŒ–å›¾è¡¨
- [ ] æ¨¡å‹è°ƒä¼˜ï¼ˆè¶…å‚æ•°æœç´¢ï¼‰
- [ ] è®°å½•æœ€ä½³æ¨¡å‹

### é˜¶æ®µäº”: åŠŸèƒ½é›†æˆï¼ˆ2-3å¤©ï¼‰
- [ ] å®ç°é¢„æµ‹å’Œç­›é€‰åŠŸèƒ½
- [ ] å¼€å‘Streamlitç•Œé¢
- [ ] æµ‹è¯•ç«¯åˆ°ç«¯æµç¨‹
- [ ] Bugä¿®å¤å’Œä¼˜åŒ–

### é˜¶æ®µå…­: æ–‡æ¡£æ’°å†™ï¼ˆ2å¤©ï¼‰
- [ ] ç¼–å†™ä½¿ç”¨è¯´æ˜
- [ ] æ•´ç†å®éªŒç»“æœ
- [ ] å®Œæˆè¯¾ç¨‹è®¾è®¡æŠ¥å‘Š
- [ ] å‡†å¤‡æ¼”ç¤ºææ–™

**æ€»è®¡**: çº¦12-15å¤©å®Œæˆ

---

## ğŸ”¬ æ¨¡å‹è®­ç»ƒå»ºè®®

### è¶…å‚æ•°æ¨è

#### BBBPæ•°æ®é›†ï¼ˆäºŒåˆ†ç±»ï¼‰
```python
# MLPé…ç½®
input_dim = 2048
hidden_dims = [1024, 512, 256]
dropout = 0.3
learning_rate = 0.0001
batch_size = 64
epochs = 100
early_stopping_patience = 15
```

#### ESOLæ•°æ®é›†ï¼ˆå›å½’ï¼‰
```python
# MLPé…ç½®
input_dim = 2048
hidden_dims = [512, 256, 128]
dropout = 0.2
learning_rate = 0.001
batch_size = 32
epochs = 200
early_stopping_patience = 20
```

### è®­ç»ƒæŠ€å·§
1. **å­¦ä¹ ç‡è°ƒæ•´**: ä½¿ç”¨ReduceLROnPlateauåŠ¨æ€è°ƒæ•´
2. **æ•°æ®å¢å¼º**: SMILESæšä¸¾ï¼ˆåŒä¸€åˆ†å­çš„ä¸åŒSMILESè¡¨ç¤ºï¼‰
3. **æ­£åˆ™åŒ–**: L2æ­£åˆ™åŒ– + Dropout
4. **æ‰¹å½’ä¸€åŒ–**: åŠ é€Ÿè®­ç»ƒï¼Œæé«˜ç¨³å®šæ€§
5. **Early Stopping**: é˜²æ­¢è¿‡æ‹Ÿåˆ

### é¢„æœŸæ€§èƒ½

| æ•°æ®é›† | æŒ‡æ ‡ | åŸºçº¿ | ç›®æ ‡ |
|-------|------|------|------|
| BBBP | AUC-ROC | 0.70 | 0.85+ |
| ESOL | RMSE | 1.5 | <1.0 |
| Tox21 | AUCå¹³å‡ | 0.75 | 0.80+ |

---

## ğŸ’¡ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: RDKitå®‰è£…å¤±è´¥
**è§£å†³**: ä½¿ç”¨condaå®‰è£…
```bash
conda install -c conda-forge rdkit
```

### é—®é¢˜2: DeepChemç‰ˆæœ¬å…¼å®¹æ€§
**è§£å†³**: æŒ‡å®šå…¼å®¹ç‰ˆæœ¬
```bash
pip install deepchem==2.7.1 tensorflow==2.13.0
```

### é—®é¢˜3: CUDA out of memory
**è§£å†³**: 
- å‡å°batch_size
- ä½¿ç”¨CPUè®­ç»ƒï¼ˆå°æ•°æ®é›†å¯æ¥å—ï¼‰
- ä½¿ç”¨æ¢¯åº¦ç´¯ç§¯

### é—®é¢˜4: æ¨¡å‹è¿‡æ‹Ÿåˆ
**è§£å†³**:
- å¢åŠ Dropoutæ¯”ä¾‹
- ä½¿ç”¨æ›´å¤šè®­ç»ƒæ•°æ®
- åº”ç”¨æ•°æ®å¢å¼º
- é™ä½æ¨¡å‹å¤æ‚åº¦

### é—®é¢˜5: SMILESè§£æé”™è¯¯
**è§£å†³**:
- ä½¿ç”¨RDKitéªŒè¯SMILES
- æ¸…æ´—æ— æ•ˆåˆ†å­
- æ ‡å‡†åŒ–SMILESæ ¼å¼

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å­¦æœ¯è®ºæ–‡
1. **MoleculeNet**: Wu et al. (2018) - åˆ†å­æœºå™¨å­¦ä¹ åŸºå‡†
2. **ECFP**: Rogers & Hahn (2010) - Extended-Connectivity Fingerprints
3. **DeepChem**: Ramsundar et al. (2019) - æ·±åº¦å­¦ä¹ è¯ç‰©å‘ç°

### åœ¨çº¿èµ„æº
- RDKitå®˜æ–¹æ–‡æ¡£: https://www.rdkit.org/docs/
- DeepChemæ•™ç¨‹: https://deepchem.io/tutorials/
- PyTorchæ•™ç¨‹: https://pytorch.org/tutorials/
- Streamlitæ–‡æ¡£: https://docs.streamlit.io/

### å¼€æºé¡¹ç›®
- Chemprop: åŸºäºæ¶ˆæ¯ä¼ é€’ç¥ç»ç½‘ç»œ
- DGL-LifeSci: å›¾ç¥ç»ç½‘ç»œç”¨äºç”Ÿå‘½ç§‘å­¦
- DeepPurpose: è¯ç‰©é‡å®šä½å·¥å…·åŒ…

---

## âœ… é¡¹ç›®äº¤ä»˜æ¸…å•

### ä»£ç æ–‡ä»¶
- [x] æ•°æ®åŠ è½½æ¨¡å—
- [x] ç‰¹å¾æå–æ¨¡å—
- [x] æ¨¡å‹å®šä¹‰
- [x] è®­ç»ƒè„šæœ¬
- [x] è¯„ä¼°æ¨¡å—
- [x] é¢„æµ‹æ¥å£
- [x] Webç•Œé¢

### æ–‡æ¡£
- [x] å¼€å‘è®¡åˆ’æ–‡æ¡£
- [ ] ä½¿ç”¨è¯´æ˜README
- [ ] å®éªŒæŠ¥å‘Š
- [ ] APIæ–‡æ¡£

### æ¨¡å‹æ–‡ä»¶
- [ ] è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡
- [ ] æ¨¡å‹é…ç½®æ–‡ä»¶
- [ ] è®­ç»ƒæ—¥å¿—

### æ¼”ç¤ºææ–™
- [ ] PPTæ¼”ç¤ºæ–‡ç¨¿
- [ ] æ¼”ç¤ºè§†é¢‘
- [ ] æµ‹è¯•æ•°æ®æ ·ä¾‹

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´12æœˆ22æ—¥  
**é€‚ç”¨å¯¹è±¡**: è¯¾ç¨‹è®¾è®¡ã€æ¯•ä¸šè®¾è®¡ã€ç§‘ç ”é¡¹ç›®
